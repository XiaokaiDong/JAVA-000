学习笔记

1、主要精力花在了整理《小马哥讲Spring核心编程思想》听课笔记上。根据KK老师整体的讲解以及
上周作业的基础上根据BEAN的生命周期，顺了一遍思路。

2、设计表结构

主要是为分库分表预留了一定的设计：

所有表的主键都是利用MYSQL的自增主键。但在很高的并发下，这样是会影响性能的。
所有的时间戳字段，都没有利用MYSQL自己的，应该由统一的时间源生成，便于多个实例间的同步。

3、关于商品表

商品表中的真正全局主键是skuid。为了应对历史版本，增加version字段。

商品表不允许删除和修改，只允许新增，如果是同一个skuid，则必须改变version，所以增加
skuid + version为唯一索引。

同时可以根据skuid做HASH分库分表，也可以根据major_type和minor_type进行range分片。

4、关于订单表

只是主表。里面会引用商品的skuid + version。

订单表是一个流水表，是最主要的表。